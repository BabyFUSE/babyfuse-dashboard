{"remainingRequest":"/Users/cheynehayworth/projects/bbfusedash/dashboard/node_modules/babel-loader/lib/index.js!/Users/cheynehayworth/projects/bbfusedash/dashboard/node_modules/ts-loader/index.js??ref--15-2!/Users/cheynehayworth/projects/bbfusedash/dashboard/node_modules/eslint-loader/index.js??ref--14-0!/Users/cheynehayworth/projects/bbfusedash/dashboard/src/MetamaskService.ts","dependencies":[{"path":"/Users/cheynehayworth/projects/bbfusedash/dashboard/src/MetamaskService.ts","mtime":1649075697777},{"path":"/Users/cheynehayworth/projects/bbfusedash/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":1646000871065},{"path":"/Users/cheynehayworth/projects/bbfusedash/dashboard/node_modules/babel-loader/lib/index.js","mtime":1649901810314},{"path":"/Users/cheynehayworth/projects/bbfusedash/dashboard/node_modules/ts-loader/index.js","mtime":1650102990250},{"path":"/Users/cheynehayworth/projects/bbfusedash/dashboard/node_modules/eslint-loader/index.js","mtime":1650102989344}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgYmFieUNha2VDb250cmFjdEFiaSwgcGFuY2FrZVJvdXRlckNvbnRyYWN0QWJpLCBwYW5jYWNrZVBhaXJDb250cmFjdEFiaSwgQ09OVFJBQ1RfQUREUkVTUyB9IGZyb20gIi4vY29uc3RhbnRzIjsKaW1wb3J0IHsgZXRoZXJzLCBCaWdOdW1iZXIsIHV0aWxzIH0gZnJvbSAiZXRoZXJzIjsKaW1wb3J0IFdhbGxldENvbm5lY3RQcm92aWRlciBmcm9tICJAd2FsbGV0Y29ubmVjdC93ZWIzLXByb3ZpZGVyIjsKZXhwb3J0IHZhciBXYWxsZXRUeXBlOwoKKGZ1bmN0aW9uIChXYWxsZXRUeXBlKSB7CiAgV2FsbGV0VHlwZVtXYWxsZXRUeXBlWyJNZXRhbWFzayJdID0gMF0gPSAiTWV0YW1hc2siOwogIFdhbGxldFR5cGVbV2FsbGV0VHlwZVsiV2FsbGV0Q29ubmVjdCJdID0gMV0gPSAiV2FsbGV0Q29ubmVjdCI7Cn0pKFdhbGxldFR5cGUgfHwgKFdhbGxldFR5cGUgPSB7fSkpOwoKdmFyIFdCTkJfQUREUkVTUyA9ICIweDBCRTllNTNmZDdFRGFDOUY4NTk4ODJBZmREYTExNjY0NTI4N0M2MjkiOyAvLyB0ZXN0bmV0OiAiMHhhZTEzZDk4OWRhYzJmMGRlYmZmNDYwYWMxMTJhODM3Yzg5YmFhN2NkIgovLyBtYWlubmV0OiAiMHhiYjRjZGI5Y2JkMzZiMDFiZDFjYmFlYmYyZGUwOGQ5MTczYmMwOTVjIgoKdmFyIEJVU0RfQUREUkVTUyA9ICIweDZhNWY2YTgxMjE1OTJiZWNkNjc0N2EzOGQ2NzQ1MWIzMTBmN2YxNTYiOyAvLyB0ZXN0bmV0OiAiMHg3ODg2N0JiRWVGNDRmMjMyNmJGOEREZDE5NDFhNDQzOTM4MkVGMkE3IiAKLy8gbWFpbm5ldDogIjB4NTVkMzk4MzI2Zjk5MDU5ZmY3NzU0ODUyNDY5OTkwMjdiMzE5Nzk1NSIKCnZhciBNZXRhbWFza1NlcnZpY2UgPQovKiogQGNsYXNzICovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBNZXRhbWFza1NlcnZpY2Uod2FsbGV0UHJvdmlkZXIpIHsKICAgIHRoaXMud2FsbGV0UHJvdmlkZXIgPSB3YWxsZXRQcm92aWRlcjsKICAgIHRoaXMud2ViM1Byb3ZpZGVyID0gbmV3IGV0aGVycy5wcm92aWRlcnMuV2ViM1Byb3ZpZGVyKHdhbGxldFByb3ZpZGVyKTsKICB9CgogIE1ldGFtYXNrU2VydmljZS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9hOwoKICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikgewogICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2EgPSB0aGlzOwogICAgICAgICAgICByZXR1cm4gWzQKICAgICAgICAgICAgLyp5aWVsZCovCiAgICAgICAgICAgICwgdGhpcy5nZXRPbmVNa2F0UHJpY2UoKV07CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBfYS5vbmVNa2F0Qm5iID0gX2Iuc2VudCgpOwogICAgICAgICAgICB0aGlzLmNvbnRyYWN0ID0gdGhpcy5nZXRCYWJ5Q2FrZUNvbnRyYWN0SW5zdGFuY2UoQ09OVFJBQ1RfQUREUkVTUyk7CiAgICAgICAgICAgIHJldHVybiBbMgogICAgICAgICAgICAvKnJldHVybiovCiAgICAgICAgICAgIF07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH07CgogIE1ldGFtYXNrU2VydmljZS5wcm90b3R5cGUuZ2V0V2ViM1Byb3ZpZGVyID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMud2ViM1Byb3ZpZGVyOwogIH07CgogIE1ldGFtYXNrU2VydmljZS5jcmVhdGVXYWxsZXRQcm92aWRlckZyb21UeXBlID0gZnVuY3Rpb24gKHR5cGUpIHsKICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHdhbGxldENvbm5lY3RQcm92aWRlcjsKICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkgewogICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCEodHlwZSA9PSBXYWxsZXRUeXBlLldhbGxldENvbm5lY3QpKSByZXR1cm4gWzMKICAgICAgICAgICAgLypicmVhayovCiAgICAgICAgICAgICwgMl07CiAgICAgICAgICAgIHdhbGxldENvbm5lY3RQcm92aWRlciA9IG5ldyBXYWxsZXRDb25uZWN0UHJvdmlkZXIoewogICAgICAgICAgICAgIHJwYzogewogICAgICAgICAgICAgICAgNTY6ICJodHRwczovL2JzYy1kYXRhc2VlZC5iaW5hbmNlLm9yZy8iCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjaGFpbklkOiA1NiwKICAgICAgICAgICAgICBxcmNvZGU6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBbNAogICAgICAgICAgICAvKnlpZWxkKi8KICAgICAgICAgICAgLCB3YWxsZXRDb25uZWN0UHJvdmlkZXIuZW5hYmxlKCldOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgX2Euc2VudCgpOwoKICAgICAgICAgICAgcmV0dXJuIFsyCiAgICAgICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAgICAgLCB3YWxsZXRDb25uZWN0UHJvdmlkZXJdOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgaWYgKHR5cGUgPT0gV2FsbGV0VHlwZS5NZXRhbWFzaykgewogICAgICAgICAgICAgIHJldHVybiBbMgogICAgICAgICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAgICAgICAsIHdpbmRvdy5ldGhlcmV1bV07CiAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdHlwZSIpOwoKICAgICAgICAgICAgcmV0dXJuIFsyCiAgICAgICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgTWV0YW1hc2tTZXJ2aWNlLnByb3RvdHlwZS5nZXRDdXJyZW50V2FsbGV0UHJvdmlkZXIgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy53YWxsZXRQcm92aWRlcjsKICB9OwoKICBNZXRhbWFza1NlcnZpY2UucHJvdG90eXBlLnN3aXRjaENoYWluQXN5bmMgPSBmdW5jdGlvbiAobmV3Q2hhaW5JZCkgewogICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN3aXRjaEVycm9yXzE7CiAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHsKICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgMiwsIDNdKTsKCiAgICAgICAgICAgIHJldHVybiBbNAogICAgICAgICAgICAvKnlpZWxkKi8KICAgICAgICAgICAgLCB0aGlzLndhbGxldFByb3ZpZGVyLnJlcXVlc3QoewogICAgICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJywKICAgICAgICAgICAgICBwYXJhbXM6IFt7CiAgICAgICAgICAgICAgICBjaGFpbklkOiAnMHgnICsgKCtuZXdDaGFpbklkKS50b1N0cmluZygxNikKICAgICAgICAgICAgICB9XQogICAgICAgICAgICB9KV07CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBfYS5zZW50KCk7CgogICAgICAgICAgICByZXR1cm4gWzIKICAgICAgICAgICAgLypyZXR1cm4qLwogICAgICAgICAgICAsIHRydWVdOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgc3dpdGNoRXJyb3JfMSA9IF9hLnNlbnQoKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihzd2l0Y2hFcnJvcl8xKTsKICAgICAgICAgICAgcmV0dXJuIFsyCiAgICAgICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAgICAgLCBmYWxzZV07CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXR1cm4gWzIKICAgICAgICAgICAgLypyZXR1cm4qLwogICAgICAgICAgICBdOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9OwoKICBNZXRhbWFza1NlcnZpY2UucHJvdG90eXBlLmdldFRva2VuQ29udHJhY3RJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmNvbnRyYWN0OwogIH07CgogIE1ldGFtYXNrU2VydmljZS5wcm90b3R5cGUuZ2V0QmFieUNha2VDb250cmFjdEluc3RhbmNlID0gZnVuY3Rpb24gKGNvbnRyYWN0QWRkcmVzcykgewogICAgdmFyIHByb3ZpZGVyID0gdGhpcy53ZWIzUHJvdmlkZXI7CiAgICB2YXIgc2lnbmVyID0gcHJvdmlkZXIuZ2V0U2lnbmVyKCk7CiAgICByZXR1cm4gbmV3IGV0aGVycy5Db250cmFjdChjb250cmFjdEFkZHJlc3MsIGJhYnlDYWtlQ29udHJhY3RBYmksIHNpZ25lcik7CiAgfTsKCiAgTWV0YW1hc2tTZXJ2aWNlLnByb3RvdHlwZS5nZXRDYWtlVG9rZW5Db250cmFjdEluc3RhbmNlID0gZnVuY3Rpb24gKGJhYnlUb2tlbkFkZHJlc3MpIHsKICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHByb3ZpZGVyLCBzaWduZXIsIGJhYnlDYWtlQ29udHJhY3QsIF9hLCBfYjsKCiAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHsKICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHByb3ZpZGVyID0gdGhpcy53ZWIzUHJvdmlkZXI7CiAgICAgICAgICAgIHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpOwogICAgICAgICAgICBiYWJ5Q2FrZUNvbnRyYWN0ID0gdGhpcy5nZXRCYWJ5Q2FrZUNvbnRyYWN0SW5zdGFuY2UoYmFieVRva2VuQWRkcmVzcyk7CiAgICAgICAgICAgIF9iID0gKF9hID0gZXRoZXJzLkNvbnRyYWN0KS5iaW5kOwogICAgICAgICAgICByZXR1cm4gWzQKICAgICAgICAgICAgLyp5aWVsZCovCiAgICAgICAgICAgICwgYmFieUNha2VDb250cmFjdC5DQUtFKCldOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgcmV0dXJuIFsyCiAgICAgICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAgICAgLCBuZXcgKF9iLmFwcGx5KF9hLCBbdm9pZCAwLCBfYy5zZW50KCksIGJhYnlDYWtlQ29udHJhY3RBYmksIHNpZ25lcl0pKSgpXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgTWV0YW1hc2tTZXJ2aWNlLnByb3RvdHlwZS5nZXRQYW5jYWtlUm91dGVyQ29udHJhY3RJbnN0YW5jZSA9IGZ1bmN0aW9uIChwYW5jYWtlQ29udHJhY3RBZGRyZXNzKSB7CiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBwcm92aWRlciwgc2lnbmVyOwogICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgcHJvdmlkZXIgPSB0aGlzLndlYjNQcm92aWRlcjsKICAgICAgICBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTsKICAgICAgICByZXR1cm4gWzIKICAgICAgICAvKnJldHVybiovCiAgICAgICAgLCBuZXcgZXRoZXJzLkNvbnRyYWN0KHBhbmNha2VDb250cmFjdEFkZHJlc3MsIHBhbmNha2VSb3V0ZXJDb250cmFjdEFiaSwgc2lnbmVyKV07CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgTWV0YW1hc2tTZXJ2aWNlLnByb3RvdHlwZS5nZXRQYW5jYWtlUGFpckNvbnRyYWN0SW5zdGFuY2UgPSBmdW5jdGlvbiAocGFuY2FrZVBhaXJDb250cmFjdEFkZHJlc3MpIHsKICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHByb3ZpZGVyLCBzaWduZXI7CiAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHsKICAgICAgICBwcm92aWRlciA9IHRoaXMud2ViM1Byb3ZpZGVyOwogICAgICAgIHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpOwogICAgICAgIHJldHVybiBbMgogICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAsIG5ldyBldGhlcnMuQ29udHJhY3QocGFuY2FrZVBhaXJDb250cmFjdEFkZHJlc3MsIHBhbmNhY2tlUGFpckNvbnRyYWN0QWJpLCBzaWduZXIpXTsKICAgICAgfSk7CiAgICB9KTsKICB9OwoKICBNZXRhbWFza1NlcnZpY2UucHJvdG90eXBlLmdldFBvb2xSZXNlcnZlc0JOQiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHByb3ZpZGVyLCByZXM7CiAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHsKICAgICAgICBwcm92aWRlciA9IHRoaXMud2ViM1Byb3ZpZGVyOwogICAgICAgIHJlcyA9IHByb3ZpZGVyLmdldEJhbGFuY2UoQ09OVFJBQ1RfQUREUkVTUyk7IC8vIGNvbnNvbGUubG9nKCJQT09MIFJFU0VSVkVTIiArIHJlcyk7CgogICAgICAgIHJldHVybiBbMgogICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAsIHJlc107CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgTWV0YW1hc2tTZXJ2aWNlLnByb3RvdHlwZS5nZXRQcmljZXNQYXRoID0gZnVuY3Rpb24gKGFtb3VudCwgcGF0aCkgewogICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgY29udHJhY3QsIF9hLCByZXMsIGV4XzE7CgogICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7CiAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfYi50cnlzLnB1c2goWzAsIDYsLCA3XSk7CgogICAgICAgICAgICBpZiAoIWFtb3VudC5pc1plcm8oKSkgcmV0dXJuIFszCiAgICAgICAgICAgIC8qYnJlYWsqLwogICAgICAgICAgICAsIDFdOwogICAgICAgICAgICByZXR1cm4gWzIKICAgICAgICAgICAgLypyZXR1cm4qLwogICAgICAgICAgICAsIG5ldyBBcnJheShwYXRoLmxlbmd0aCkuZmlsbChCaWdOdW1iZXIuZnJvbShbMF0pKV07CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBfYSA9IHRoaXMuZ2V0UGFuY2FrZVJvdXRlckNvbnRyYWN0SW5zdGFuY2U7CiAgICAgICAgICAgIHJldHVybiBbNAogICAgICAgICAgICAvKnlpZWxkKi8KICAgICAgICAgICAgLCB0aGlzLmdldFBhbmNha2VSb3V0ZXJBZGRyZXNzKCldOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIFs0CiAgICAgICAgICAgIC8qeWllbGQqLwogICAgICAgICAgICAsIF9hLmFwcGx5KHRoaXMsIFtfYi5zZW50KCldKV07CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjb250cmFjdCA9IF9iLnNlbnQoKTsKICAgICAgICAgICAgcmV0dXJuIFs0CiAgICAgICAgICAgIC8qeWllbGQqLwogICAgICAgICAgICAsIGNvbnRyYWN0LmdldEFtb3VudHNPdXQoYW1vdW50LCBwYXRoKV07CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByZXMgPSBfYi5zZW50KCk7CiAgICAgICAgICAgIHJldHVybiBbMgogICAgICAgICAgICAvKnJldHVybiovCiAgICAgICAgICAgICwgcmVzXTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHJldHVybiBbMwogICAgICAgICAgICAvKmJyZWFrKi8KICAgICAgICAgICAgLCA3XTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGV4XzEgPSBfYi5zZW50KCk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoImdldFByaWNlc1BhdGgoKSBleGNlcHRpb246ICIgKyBleF8xKTsKICAgICAgICAgICAgcmV0dXJuIFsyCiAgICAgICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAgICAgLCBuZXcgQXJyYXkocGF0aC5sZW5ndGgpLmZpbGwoQmlnTnVtYmVyLmZyb20oWzBdKSldOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgcmV0dXJuIFsyCiAgICAgICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAgICAgXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgTWV0YW1hc2tTZXJ2aWNlLnByb3RvdHlwZS5nZXRNa2F0Qm5iVXNkUHJpY2VzID0gZnVuY3Rpb24gKGFtb3VudCkgewogICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgcmV0dXJuIFsyCiAgICAgICAgLypyZXR1cm4qLwogICAgICAgICwgdGhpcy5nZXRQcmljZXNQYXRoKGFtb3VudCwgW0NPTlRSQUNUX0FERFJFU1MsIFdCTkJfQUREUkVTUywgQlVTRF9BRERSRVNTXSldOwogICAgICB9KTsKICAgIH0pOwogIH07CgogIE1ldGFtYXNrU2VydmljZS5wcm90b3R5cGUuZ2V0TWthdFZhbHVlSW5CVVNEID0gZnVuY3Rpb24gKGFtb3VudCkgewogICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVzOwogICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoYW1vdW50LmlzWmVybygpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFsyCiAgICAgICAgICAgICAgLypyZXR1cm4qLwogICAgICAgICAgICAgICwgMF07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBbNAogICAgICAgICAgICAvKnlpZWxkKi8KICAgICAgICAgICAgLCB0aGlzLmdldE1rYXRCbmJVc2RQcmljZXMoYW1vdW50KV07CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICByZXMgPSBfYS5zZW50KClbMl07CiAgICAgICAgICAgIHJldHVybiBbMgogICAgICAgICAgICAvKnJldHVybiovCiAgICAgICAgICAgICwgcmVzXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgTWV0YW1hc2tTZXJ2aWNlLnByb3RvdHlwZS5nZXRNa2F0UHJpY2VJbkJuYiA9IGZ1bmN0aW9uIChhbW91bnQpIHsKICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBwYXRoUmVzdWx0OwogICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoYW1vdW50LmlzWmVybygpKSByZXR1cm4gWzIKICAgICAgICAgICAgLypyZXR1cm4qLwogICAgICAgICAgICAsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoQmlnTnVtYmVyLmZyb20oIjAiKSk7CiAgICAgICAgICAgIH0pXTsKICAgICAgICAgICAgcmV0dXJuIFs0CiAgICAgICAgICAgIC8qeWllbGQqLwogICAgICAgICAgICAsIHRoaXMuZ2V0TWthdEJuYlVzZFByaWNlcyhhbW91bnQpXTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHBhdGhSZXN1bHQgPSBfYS5zZW50KCk7CiAgICAgICAgICAgIHJldHVybiBbMgogICAgICAgICAgICAvKnJldHVybiovCiAgICAgICAgICAgICwgcGF0aFJlc3VsdFsxXV07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH07CgogIE1ldGFtYXNrU2VydmljZS5wcm90b3R5cGUudG90YWxMaXF1aWRpdHlQb29sSW5CVVNEID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcG9vbFJlc2VydmVzLCBta2F0LCBibmIsIGJuYlVTRCwgbWthdFVTRDsKICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkgewogICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIFs0CiAgICAgICAgICAgIC8qeWllbGQqLwogICAgICAgICAgICAsIHRoaXMuZ2V0UGFuY2FrZVBhaXJQb29sUmVzZXJ2ZXMoKV07CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBwb29sUmVzZXJ2ZXMgPSBfYS5zZW50KCk7CiAgICAgICAgICAgIG1rYXQgPSBwb29sUmVzZXJ2ZXNbMV07CiAgICAgICAgICAgIGJuYiA9IHBvb2xSZXNlcnZlc1swXTsKICAgICAgICAgICAgcmV0dXJuIFs0CiAgICAgICAgICAgIC8qeWllbGQqLwogICAgICAgICAgICAsIHRoaXMuZ2V0UHJpY2VzUGF0aChibmIsIFtXQk5CX0FERFJFU1MsIEJVU0RfQUREUkVTU10pXTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGJuYlVTRCA9IF9hLnNlbnQoKVsxXTsKICAgICAgICAgICAgcmV0dXJuIFs0CiAgICAgICAgICAgIC8qeWllbGQqLwogICAgICAgICAgICAsIHRoaXMuZ2V0TWthdFZhbHVlSW5CVVNEKG1rYXQpXTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIG1rYXRVU0QgPSBfYS5zZW50KCk7IC8vIGNvbnNvbGUubG9nKCJibmJVU0Q6IiwgYm5iVVNEKTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIm1rYXRVU0Q6IiwgbWthdFVTRCk7CgogICAgICAgICAgICByZXR1cm4gWzIKICAgICAgICAgICAgLypyZXR1cm4qLwogICAgICAgICAgICAsIGJuYlVTRC5hZGQobWthdFVTRCldOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9OwoKICBNZXRhbWFza1NlcnZpY2UucHJvdG90eXBlLmdldFBhbmNha2VQYWlyUG9vbFJlc2VydmVzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgY29udHJhY3QsIF9hLCByZXM7CgogICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7CiAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfYSA9IHRoaXMuZ2V0UGFuY2FrZVBhaXJDb250cmFjdEluc3RhbmNlOwogICAgICAgICAgICByZXR1cm4gWzQKICAgICAgICAgICAgLyp5aWVsZCovCiAgICAgICAgICAgICwgdGhpcy5nZXRQYW5jYWtlUGFpckFkZHJlc3MoKV07CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICByZXR1cm4gWzQKICAgICAgICAgICAgLyp5aWVsZCovCiAgICAgICAgICAgICwgX2EuYXBwbHkodGhpcywgW19iLnNlbnQoKV0pXTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNvbnRyYWN0ID0gX2Iuc2VudCgpOwogICAgICAgICAgICByZXR1cm4gWzQKICAgICAgICAgICAgLyp5aWVsZCovCiAgICAgICAgICAgICwgY29udHJhY3QuZ2V0UmVzZXJ2ZXMoKV07CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXMgPSBfYi5zZW50KCk7CiAgICAgICAgICAgIHJldHVybiBbMgogICAgICAgICAgICAvKnJldHVybiovCiAgICAgICAgICAgICwgcmVzXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgTWV0YW1hc2tTZXJ2aWNlLnByb3RvdHlwZS5nZXRQYW5jYWtlUGFpckFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHsKICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghdGhpcy5jb250cmFjdCkgewogICAgICAgICAgICAgIHRoaXMuY29udHJhY3QgPSB0aGlzLmdldFRva2VuQ29udHJhY3RJbnN0YW5jZSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gWzQKICAgICAgICAgICAgLyp5aWVsZCovCiAgICAgICAgICAgICwgdGhpcy5jb250cmFjdC51bmlzd2FwVjJQYWlyKCldOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgcmV0dXJuIFsyCiAgICAgICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAgICAgLCBfYS5zZW50KCldOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9OwoKICBNZXRhbWFza1NlcnZpY2UucHJvdG90eXBlLmdldFBhbmNha2VSb3V0ZXJBZGRyZXNzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoIXRoaXMuY29udHJhY3QpIHsKICAgICAgICAgICAgICB0aGlzLmNvbnRyYWN0ID0gdGhpcy5nZXRCYWJ5Q2FrZUNvbnRyYWN0SW5zdGFuY2UoQ09OVFJBQ1RfQUREUkVTUyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBbNAogICAgICAgICAgICAvKnlpZWxkKi8KICAgICAgICAgICAgLCB0aGlzLmNvbnRyYWN0LnVuaXN3YXBWMlJvdXRlcigpXTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHJldHVybiBbMgogICAgICAgICAgICAvKnJldHVybiovCiAgICAgICAgICAgICwgX2Euc2VudCgpXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgTWV0YW1hc2tTZXJ2aWNlLnByb3RvdHlwZS5nZXRTdGF0aWNSZXdhcmRJbmZvT2YgPSBmdW5jdGlvbiAoYWRkcikgewogICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICByZXR1cm4gWzQKICAgICAgICAgICAgLyp5aWVsZCovCiAgICAgICAgICAgICwgdGhpcy5jb250cmFjdC5nZXRBY2NvdW50RGl2aWRlbmRzSW5mbyhhZGRyKV07CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICByZXR1cm4gWzIKICAgICAgICAgICAgLypyZXR1cm4qLwogICAgICAgICAgICAsIF9hLnNlbnQoKV07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH07CgogIE1ldGFtYXNrU2VydmljZS5wcm90b3R5cGUuZ2V0QmFsYW5jZSA9IGZ1bmN0aW9uIChhZGRyKSB7CiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgdG9rZW5CYWxhbmNlOwogICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoIXRoaXMuY29udHJhY3QpIHsKICAgICAgICAgICAgICB0aGlzLmNvbnRyYWN0ID0gdGhpcy5nZXRUb2tlbkNvbnRyYWN0SW5zdGFuY2UoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIFs0CiAgICAgICAgICAgIC8qeWllbGQqLwogICAgICAgICAgICAsIHRoaXMuY29udHJhY3QuYmFsYW5jZU9mKGFkZHIpXTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHRva2VuQmFsYW5jZSA9IF9hLnNlbnQoKTsKICAgICAgICAgICAgcmV0dXJuIFsyCiAgICAgICAgICAgIC8qcmV0dXJuKi8KICAgICAgICAgICAgLCB0b2tlbkJhbGFuY2VdOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9OwoKICBNZXRhbWFza1NlcnZpY2UucHJvdG90eXBlLmdldE9uZU1rYXRQcmljZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHsKICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBbNAogICAgICAgICAgICAvKnlpZWxkKi8KICAgICAgICAgICAgLCB0aGlzLmdldE1rYXRQcmljZUluQm5iKHV0aWxzLnBhcnNlVW5pdHMoIjEiLCAxOCkpXTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHJldHVybiBbMgogICAgICAgICAgICAvKnJldHVybiovCiAgICAgICAgICAgICwgX2Euc2VudCgpXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgcmV0dXJuIE1ldGFtYXNrU2VydmljZTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgTWV0YW1hc2tTZXJ2aWNlOw=="},{"version":3,"sources":["/Users/cheynehayworth/projects/bbfusedash/dashboard/src/MetamaskService.ts"],"names":["__awaiter","__generator","babyCakeContractAbi","pancakeRouterContractAbi","pancackePairContractAbi","CONTRACT_ADDRESS","ethers","BigNumber","utils","WalletConnectProvider","WalletType","WBNB_ADDRESS","BUSD_ADDRESS","MetamaskService","walletProvider","web3Provider","providers","Web3Provider","prototype","initialize","_a","_b","label","getOneMkatPrice","oneMkatBnb","sent","contract","getBabyCakeContractInstance","getWeb3Provider","createWalletProviderFromType","type","walletConnectProvider","WalletConnect","rpc","chainId","qrcode","enable","Metamask","window","ethereum","Error","getCurrentWalletProvider","switchChainAsync","newChainId","Promise","switchError_1","trys","push","request","method","params","toString","console","error","getTokenContractInstance","contractAddress","provider","signer","getSigner","Contract","getCakeTokenContractInstance","babyTokenAddress","babyCakeContract","_c","bind","CAKE","apply","getPancakeRouterContractInstance","pancakeContractAddress","getPancakePairContractInstance","pancakePairContractAddress","getPoolReservesBNB","res","getBalance","getPricesPath","amount","path","ex_1","isZero","Array","length","fill","from","getPancakeRouterAddress","getAmountsOut","getMkatBnbUsdPrices","getMkatValueInBUSD","getMkatPriceInBnb","pathResult","resolve","totalLiquidityPoolInBUSD","poolReserves","mkat","bnb","bnbUSD","mkatUSD","getPancakePairPoolReserves","add","getPancakePairAddress","getReserves","uniswapV2Pair","uniswapV2Router","getStaticRewardInfoOf","addr","getAccountDividendsInfo","tokenBalance","balanceOf","parseUnits"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,WAApB,QAAuC,OAAvC;AACA,SAASC,mBAAT,EAA8BC,wBAA9B,EAAwDC,uBAAxD,EAAiFC,gBAAjF,QAA0G,aAA1G;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,KAA5B,QAAyC,QAAzC;AACA,OAAOC,qBAAP,MAAkC,8BAAlC;AACA,OAAO,IAAIC,UAAJ;;AACP,CAAC,UAAUA,UAAV,EAAsB;AACnBA,EAAAA,UAAU,CAACA,UAAU,CAAC,UAAD,CAAV,GAAyB,CAA1B,CAAV,GAAyC,UAAzC;AACAA,EAAAA,UAAU,CAACA,UAAU,CAAC,eAAD,CAAV,GAA8B,CAA/B,CAAV,GAA8C,eAA9C;AACH,CAHD,EAGGA,UAAU,KAAKA,UAAU,GAAG,EAAlB,CAHb;;AAIA,IAAIC,YAAY,GAAG,4CAAnB,C,CAAiE;AACjE;;AACA,IAAIC,YAAY,GAAG,4CAAnB,C,CAAiE;AACjE;;AACA,IAAIC,eAAe;AAAG;AAAe,YAAY;AAC7C,WAASA,eAAT,CAAyBC,cAAzB,EAAyC;AACrC,SAAKA,cAAL,GAAsBA,cAAtB;AACA,SAAKC,YAAL,GAAoB,IAAIT,MAAM,CAACU,SAAP,CAAiBC,YAArB,CAAkCH,cAAlC,CAApB;AACH;;AACDD,EAAAA,eAAe,CAACK,SAAhB,CAA0BC,UAA1B,GAAuC,YAAY;AAC/C,WAAOnB,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAIoB,EAAJ;;AACA,aAAOnB,WAAW,CAAC,IAAD,EAAO,UAAUoB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACC,KAAX;AACI,eAAK,CAAL;AACIF,YAAAA,EAAE,GAAG,IAAL;AACA,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAKG,eAAL,EAAd,CAAP;;AACJ,eAAK,CAAL;AACIH,YAAAA,EAAE,CAACI,UAAH,GAAgBH,EAAE,CAACI,IAAH,EAAhB;AACA,iBAAKC,QAAL,GAAgB,KAAKC,2BAAL,CAAiCtB,gBAAjC,CAAhB;AACA,mBAAO,CAAC;AAAE;AAAH,aAAP;AAPR;AASH,OAViB,CAAlB;AAWH,KAbe,CAAhB;AAcH,GAfD;;AAgBAQ,EAAAA,eAAe,CAACK,SAAhB,CAA0BU,eAA1B,GAA4C,YAAY;AACpD,WAAO,KAAKb,YAAZ;AACH,GAFD;;AAGAF,EAAAA,eAAe,CAACgB,4BAAhB,GAA+C,UAAUC,IAAV,EAAgB;AAC3D,WAAO9B,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAI+B,qBAAJ;AACA,aAAO9B,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACE,KAAX;AACI,eAAK,CAAL;AACI,gBAAI,EAAEQ,IAAI,IAAIpB,UAAU,CAACsB,aAArB,CAAJ,EAAyC,OAAO,CAAC;AAAE;AAAH,cAAc,CAAd,CAAP;AACzCD,YAAAA,qBAAqB,GAAG,IAAItB,qBAAJ,CAA0B;AAC9CwB,cAAAA,GAAG,EAAE;AAAE,oBAAI;AAAN,eADyC;AAE9CC,cAAAA,OAAO,EAAE,EAFqC;AAG9CC,cAAAA,MAAM,EAAE;AAHsC,aAA1B,CAAxB;AAKA,mBAAO,CAAC;AAAE;AAAH,cAAcJ,qBAAqB,CAACK,MAAtB,EAAd,CAAP;;AACJ,eAAK,CAAL;AACIhB,YAAAA,EAAE,CAACK,IAAH;;AACA,mBAAO,CAAC;AAAE;AAAH,cAAeM,qBAAf,CAAP;;AACJ,eAAK,CAAL;AACI,gBAAID,IAAI,IAAIpB,UAAU,CAAC2B,QAAvB,EAAiC;AAC7B,qBAAO,CAAC;AAAE;AAAH,gBAAeC,MAAM,CAACC,QAAtB,CAAP;AACH,aAFD,MAII,MAAM,IAAIC,KAAJ,CAAU,cAAV,CAAN;;AACJ,mBAAO,CAAC;AAAE;AAAH,aAAP;AAlBR;AAoBH,OArBiB,CAAlB;AAsBH,KAxBe,CAAhB;AAyBH,GA1BD;;AA2BA3B,EAAAA,eAAe,CAACK,SAAhB,CAA0BuB,wBAA1B,GAAqD,YAAY;AAAE,WAAO,KAAK3B,cAAZ;AAA6B,GAAhG;;AACAD,EAAAA,eAAe,CAACK,SAAhB,CAA0BwB,gBAA1B,GAA6C,UAAUC,UAAV,EAAsB;AAC/D,WAAO3C,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe4C,OAAf,EAAwB,YAAY;AAChD,UAAIC,aAAJ;AACA,aAAO5C,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACE,KAAX;AACI,eAAK,CAAL;AACIF,YAAAA,EAAE,CAAC0B,IAAH,CAAQC,IAAR,CAAa,CAAC,CAAD,EAAI,CAAJ,GAAS,CAAT,CAAb;;AACA,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAKjC,cAAL,CAAoBkC,OAApB,CAA4B;AACzCC,cAAAA,MAAM,EAAE,4BADiC;AAEzCC,cAAAA,MAAM,EAAE,CAAC;AAAEhB,gBAAAA,OAAO,EAAE,OAAO,CAAC,CAACS,UAAF,EAAcQ,QAAd,CAAuB,EAAvB;AAAlB,eAAD;AAFiC,aAA5B,CAAd,CAAP;;AAIJ,eAAK,CAAL;AACI/B,YAAAA,EAAE,CAACK,IAAH;;AACA,mBAAO,CAAC;AAAE;AAAH,cAAe,IAAf,CAAP;;AACJ,eAAK,CAAL;AACIoB,YAAAA,aAAa,GAAGzB,EAAE,CAACK,IAAH,EAAhB;AACA2B,YAAAA,OAAO,CAACC,KAAR,CAAcR,aAAd;AACA,mBAAO,CAAC;AAAE;AAAH,cAAe,KAAf,CAAP;;AACJ,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,aAAP;AAdZ;AAgBH,OAjBiB,CAAlB;AAkBH,KApBe,CAAhB;AAqBH,GAtBD;;AAuBAhC,EAAAA,eAAe,CAACK,SAAhB,CAA0BoC,wBAA1B,GAAqD,YAAY;AAC7D,WAAO,KAAK5B,QAAZ;AACH,GAFD;;AAGAb,EAAAA,eAAe,CAACK,SAAhB,CAA0BS,2BAA1B,GAAwD,UAAU4B,eAAV,EAA2B;AAC/E,QAAIC,QAAQ,GAAG,KAAKzC,YAApB;AACA,QAAI0C,MAAM,GAAGD,QAAQ,CAACE,SAAT,EAAb;AACA,WAAO,IAAIpD,MAAM,CAACqD,QAAX,CAAoBJ,eAApB,EAAqCrD,mBAArC,EAA0DuD,MAA1D,CAAP;AACH,GAJD;;AAKA5C,EAAAA,eAAe,CAACK,SAAhB,CAA0B0C,4BAA1B,GAAyD,UAAUC,gBAAV,EAA4B;AACjF,WAAO7D,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAIwD,QAAJ,EAAcC,MAAd,EAAsBK,gBAAtB,EAAwC1C,EAAxC,EAA4CC,EAA5C;;AACA,aAAOpB,WAAW,CAAC,IAAD,EAAO,UAAU8D,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACzC,KAAX;AACI,eAAK,CAAL;AACIkC,YAAAA,QAAQ,GAAG,KAAKzC,YAAhB;AACA0C,YAAAA,MAAM,GAAGD,QAAQ,CAACE,SAAT,EAAT;AACAI,YAAAA,gBAAgB,GAAG,KAAKnC,2BAAL,CAAiCkC,gBAAjC,CAAnB;AACAxC,YAAAA,EAAE,GAAG,CAACD,EAAE,GAAGd,MAAM,CAACqD,QAAb,EAAuBK,IAA5B;AACA,mBAAO,CAAC;AAAE;AAAH,cAAcF,gBAAgB,CAACG,IAAjB,EAAd,CAAP;;AACJ,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAe,KAAK5C,EAAE,CAAC6C,KAAH,CAAS9C,EAAT,EAAa,CAAC,KAAK,CAAN,EAAS2C,EAAE,CAACtC,IAAH,EAAT,EAAoBvB,mBAApB,EAAyCuD,MAAzC,CAAb,CAAL,GAAf,CAAP;AAPZ;AASH,OAViB,CAAlB;AAWH,KAbe,CAAhB;AAcH,GAfD;;AAgBA5C,EAAAA,eAAe,CAACK,SAAhB,CAA0BiD,gCAA1B,GAA6D,UAAUC,sBAAV,EAAkC;AAC3F,WAAOpE,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAIwD,QAAJ,EAAcC,MAAd;AACA,aAAOxD,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnCoC,QAAAA,QAAQ,GAAG,KAAKzC,YAAhB;AACA0C,QAAAA,MAAM,GAAGD,QAAQ,CAACE,SAAT,EAAT;AACA,eAAO,CAAC;AAAE;AAAH,UAAe,IAAIpD,MAAM,CAACqD,QAAX,CAAoBS,sBAApB,EAA4CjE,wBAA5C,EAAsEsD,MAAtE,CAAf,CAAP;AACH,OAJiB,CAAlB;AAKH,KAPe,CAAhB;AAQH,GATD;;AAUA5C,EAAAA,eAAe,CAACK,SAAhB,CAA0BmD,8BAA1B,GAA2D,UAAUC,0BAAV,EAAsC;AAC7F,WAAOtE,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAIwD,QAAJ,EAAcC,MAAd;AACA,aAAOxD,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnCoC,QAAAA,QAAQ,GAAG,KAAKzC,YAAhB;AACA0C,QAAAA,MAAM,GAAGD,QAAQ,CAACE,SAAT,EAAT;AACA,eAAO,CAAC;AAAE;AAAH,UAAe,IAAIpD,MAAM,CAACqD,QAAX,CAAoBW,0BAApB,EAAgDlE,uBAAhD,EAAyEqD,MAAzE,CAAf,CAAP;AACH,OAJiB,CAAlB;AAKH,KAPe,CAAhB;AAQH,GATD;;AAUA5C,EAAAA,eAAe,CAACK,SAAhB,CAA0BqD,kBAA1B,GAA+C,YAAY;AACvD,WAAOvE,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAIwD,QAAJ,EAAcgB,GAAd;AACA,aAAOvE,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnCoC,QAAAA,QAAQ,GAAG,KAAKzC,YAAhB;AACAyD,QAAAA,GAAG,GAAGhB,QAAQ,CAACiB,UAAT,CAAoBpE,gBAApB,CAAN,CAFmC,CAGnC;;AACA,eAAO,CAAC;AAAE;AAAH,UAAemE,GAAf,CAAP;AACH,OALiB,CAAlB;AAMH,KARe,CAAhB;AASH,GAVD;;AAWA3D,EAAAA,eAAe,CAACK,SAAhB,CAA0BwD,aAA1B,GAA0C,UAAUC,MAAV,EAAkBC,IAAlB,EAAwB;AAC9D,WAAO5E,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAI0B,QAAJ,EAAcN,EAAd,EAAkBoD,GAAlB,EAAuBK,IAAvB;;AACA,aAAO5E,WAAW,CAAC,IAAD,EAAO,UAAUoB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACC,KAAX;AACI,eAAK,CAAL;AACID,YAAAA,EAAE,CAACyB,IAAH,CAAQC,IAAR,CAAa,CAAC,CAAD,EAAI,CAAJ,GAAS,CAAT,CAAb;;AACA,gBAAI,CAAC4B,MAAM,CAACG,MAAP,EAAL,EAAsB,OAAO,CAAC;AAAE;AAAH,cAAc,CAAd,CAAP;AACtB,mBAAO,CAAC;AAAE;AAAH,cAAe,IAAIC,KAAJ,CAAUH,IAAI,CAACI,MAAf,EAAuBC,IAAvB,CAA4B1E,SAAS,CAAC2E,IAAV,CAAe,CAAC,CAAD,CAAf,CAA5B,CAAf,CAAP;;AACJ,eAAK,CAAL;AACI9D,YAAAA,EAAE,GAAG,KAAK+C,gCAAV;AACA,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAKgB,uBAAL,EAAd,CAAP;;AACJ,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAc/D,EAAE,CAAC8C,KAAH,CAAS,IAAT,EAAe,CAAC7C,EAAE,CAACI,IAAH,EAAD,CAAf,CAAd,CAAP;;AACR,eAAK,CAAL;AACIC,YAAAA,QAAQ,GAAGL,EAAE,CAACI,IAAH,EAAX;AACA,mBAAO,CAAC;AAAE;AAAH,cAAcC,QAAQ,CAAC0D,aAAT,CAAuBT,MAAvB,EAA+BC,IAA/B,CAAd,CAAP;;AACJ,eAAK,CAAL;AACIJ,YAAAA,GAAG,GAAGnD,EAAE,CAACI,IAAH,EAAN;AACA,mBAAO,CAAC;AAAE;AAAH,cAAe+C,GAAf,CAAP;;AACJ,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAc,CAAd,CAAP;;AACR,eAAK,CAAL;AACIK,YAAAA,IAAI,GAAGxD,EAAE,CAACI,IAAH,EAAP;AACA2B,YAAAA,OAAO,CAACC,KAAR,CAAc,gCAAgCwB,IAA9C;AACA,mBAAO,CAAC;AAAE;AAAH,cAAe,IAAIE,KAAJ,CAAUH,IAAI,CAACI,MAAf,EAAuBC,IAAvB,CAA4B1E,SAAS,CAAC2E,IAAV,CAAe,CAAC,CAAD,CAAf,CAA5B,CAAf,CAAP;;AACJ,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,aAAP;AApBZ;AAsBH,OAvBiB,CAAlB;AAwBH,KA1Be,CAAhB;AA2BH,GA5BD;;AA6BArE,EAAAA,eAAe,CAACK,SAAhB,CAA0BmE,mBAA1B,GAAgD,UAAUV,MAAV,EAAkB;AAC9D,WAAO3E,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,aAAOC,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,eAAO,CAAC;AAAE;AAAH,UAAe,KAAKsD,aAAL,CAAmBC,MAAnB,EAA2B,CACzCtE,gBADyC,EAEzCM,YAFyC,EAGzCC,YAHyC,CAA3B,CAAf,CAAP;AAKH,OANiB,CAAlB;AAOH,KARe,CAAhB;AASH,GAVD;;AAWAC,EAAAA,eAAe,CAACK,SAAhB,CAA0BoE,kBAA1B,GAA+C,UAAUX,MAAV,EAAkB;AAC7D,WAAO3E,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAIwE,GAAJ;AACA,aAAOvE,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACE,KAAX;AACI,eAAK,CAAL;AACI,gBAAIqD,MAAM,CAACG,MAAP,EAAJ,EAAqB;AACjB,qBAAO,CAAC;AAAE;AAAH,gBAAe,CAAf,CAAP;AACH;;AACD,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAKO,mBAAL,CAAyBV,MAAzB,CAAd,CAAP;;AACJ,eAAK,CAAL;AACIH,YAAAA,GAAG,GAAIpD,EAAE,CAACK,IAAH,EAAD,CAAY,CAAZ,CAAN;AACA,mBAAO,CAAC;AAAE;AAAH,cAAe+C,GAAf,CAAP;AARR;AAUH,OAXiB,CAAlB;AAYH,KAde,CAAhB;AAeH,GAhBD;;AAiBA3D,EAAAA,eAAe,CAACK,SAAhB,CAA0BqE,iBAA1B,GAA8C,UAAUZ,MAAV,EAAkB;AAC5D,WAAO3E,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe4C,OAAf,EAAwB,YAAY;AAChD,UAAI4C,UAAJ;AACA,aAAOvF,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACE,KAAX;AACI,eAAK,CAAL;AACI,gBAAIqD,MAAM,CAACG,MAAP,EAAJ,EACI,OAAO,CAAC;AAAE;AAAH,cAAe,IAAIlC,OAAJ,CAAY,UAAU6C,OAAV,EAAmB;AAAE,qBAAOA,OAAO,CAAClF,SAAS,CAAC2E,IAAV,CAAe,GAAf,CAAD,CAAd;AAAsC,aAAvE,CAAf,CAAP;AACJ,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAKG,mBAAL,CAAyBV,MAAzB,CAAd,CAAP;;AACJ,eAAK,CAAL;AACIa,YAAAA,UAAU,GAAGpE,EAAE,CAACK,IAAH,EAAb;AACA,mBAAO,CAAC;AAAE;AAAH,cAAe+D,UAAU,CAAC,CAAD,CAAzB,CAAP;AAPR;AASH,OAViB,CAAlB;AAWH,KAbe,CAAhB;AAcH,GAfD;;AAgBA3E,EAAAA,eAAe,CAACK,SAAhB,CAA0BwE,wBAA1B,GAAqD,YAAY;AAC7D,WAAO1F,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAI2F,YAAJ,EAAkBC,IAAlB,EAAwBC,GAAxB,EAA6BC,MAA7B,EAAqCC,OAArC;AACA,aAAO9F,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACE,KAAX;AACI,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAK0E,0BAAL,EAAd,CAAP;;AACR,eAAK,CAAL;AACIL,YAAAA,YAAY,GAAGvE,EAAE,CAACK,IAAH,EAAf;AACAmE,YAAAA,IAAI,GAAGD,YAAY,CAAC,CAAD,CAAnB;AACAE,YAAAA,GAAG,GAAGF,YAAY,CAAC,CAAD,CAAlB;AACA,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAKjB,aAAL,CAAmBmB,GAAnB,EAAwB,CAAClF,YAAD,EAAeC,YAAf,CAAxB,CAAd,CAAP;;AACJ,eAAK,CAAL;AACIkF,YAAAA,MAAM,GAAI1E,EAAE,CAACK,IAAH,EAAD,CAAY,CAAZ,CAAT;AACA,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAK6D,kBAAL,CAAwBM,IAAxB,CAAd,CAAP;;AACJ,eAAK,CAAL;AACIG,YAAAA,OAAO,GAAG3E,EAAE,CAACK,IAAH,EAAV,CADJ,CAEI;AACA;;AACA,mBAAO,CAAC;AAAE;AAAH,cAAeqE,MAAM,CAACG,GAAP,CAAWF,OAAX,CAAf,CAAP;AAdR;AAgBH,OAjBiB,CAAlB;AAkBH,KApBe,CAAhB;AAqBH,GAtBD;;AAuBAlF,EAAAA,eAAe,CAACK,SAAhB,CAA0B8E,0BAA1B,GAAuD,YAAY;AAC/D,WAAOhG,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,UAAI0B,QAAJ,EAAcN,EAAd,EAAkBoD,GAAlB;;AACA,aAAOvE,WAAW,CAAC,IAAD,EAAO,UAAUoB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACC,KAAX;AACI,eAAK,CAAL;AACIF,YAAAA,EAAE,GAAG,KAAKiD,8BAAV;AACA,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAK6B,qBAAL,EAAd,CAAP;;AACJ,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAc9E,EAAE,CAAC8C,KAAH,CAAS,IAAT,EAAe,CAAC7C,EAAE,CAACI,IAAH,EAAD,CAAf,CAAd,CAAP;;AACR,eAAK,CAAL;AACIC,YAAAA,QAAQ,GAAGL,EAAE,CAACI,IAAH,EAAX;AACA,mBAAO,CAAC;AAAE;AAAH,cAAcC,QAAQ,CAACyE,WAAT,EAAd,CAAP;;AACJ,eAAK,CAAL;AACI3B,YAAAA,GAAG,GAAGnD,EAAE,CAACI,IAAH,EAAN;AACA,mBAAO,CAAC;AAAE;AAAH,cAAe+C,GAAf,CAAP;AAVR;AAYH,OAbiB,CAAlB;AAcH,KAhBe,CAAhB;AAiBH,GAlBD;;AAmBA3D,EAAAA,eAAe,CAACK,SAAhB,CAA0BgF,qBAA1B,GAAkD,YAAY;AAC1D,WAAOlG,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,aAAOC,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACE,KAAX;AACI,eAAK,CAAL;AACI,gBAAI,CAAC,KAAKI,QAAV,EAAoB;AAChB,mBAAKA,QAAL,GAAgB,KAAK4B,wBAAL,EAAhB;AACH;;AACD,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAK5B,QAAL,CAAc0E,aAAd,EAAd,CAAP;;AACJ,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAehF,EAAE,CAACK,IAAH,EAAf,CAAP;AANZ;AAQH,OATiB,CAAlB;AAUH,KAXe,CAAhB;AAYH,GAbD;;AAcAZ,EAAAA,eAAe,CAACK,SAAhB,CAA0BiE,uBAA1B,GAAoD,YAAY;AAC5D,WAAOnF,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,aAAOC,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACE,KAAX;AACI,eAAK,CAAL;AACI,gBAAI,CAAC,KAAKI,QAAV,EAAoB;AAChB,mBAAKA,QAAL,GAAgB,KAAKC,2BAAL,CAAiCtB,gBAAjC,CAAhB;AACH;;AACD,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAKqB,QAAL,CAAc2E,eAAd,EAAd,CAAP;;AACJ,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAejF,EAAE,CAACK,IAAH,EAAf,CAAP;AANZ;AAQH,OATiB,CAAlB;AAUH,KAXe,CAAhB;AAYH,GAbD;;AAcAZ,EAAAA,eAAe,CAACK,SAAhB,CAA0BoF,qBAA1B,GAAkD,UAAUC,IAAV,EAAgB;AAC9D,WAAOvG,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AAC/C,aAAOC,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACE,KAAX;AACI,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAKI,QAAL,CAAc8E,uBAAd,CAAsCD,IAAtC,CAAd,CAAP;;AACR,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAenF,EAAE,CAACK,IAAH,EAAf,CAAP;AAFZ;AAIH,OALiB,CAAlB;AAMH,KAPe,CAAhB;AAQH,GATD;;AAUAZ,EAAAA,eAAe,CAACK,SAAhB,CAA0BuD,UAA1B,GAAuC,UAAU8B,IAAV,EAAgB;AACnD,WAAOvG,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe4C,OAAf,EAAwB,YAAY;AAChD,UAAI6D,YAAJ;AACA,aAAOxG,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACE,KAAX;AACI,eAAK,CAAL;AACI,gBAAI,CAAC,KAAKI,QAAV,EAAoB;AAChB,mBAAKA,QAAL,GAAgB,KAAK4B,wBAAL,EAAhB;AACH;;AACD,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAK5B,QAAL,CAAcgF,SAAd,CAAwBH,IAAxB,CAAd,CAAP;;AACJ,eAAK,CAAL;AACIE,YAAAA,YAAY,GAAGrF,EAAE,CAACK,IAAH,EAAf;AACA,mBAAO,CAAC;AAAE;AAAH,cAAegF,YAAf,CAAP;AARR;AAUH,OAXiB,CAAlB;AAYH,KAde,CAAhB;AAeH,GAhBD;;AAiBA5F,EAAAA,eAAe,CAACK,SAAhB,CAA0BK,eAA1B,GAA4C,YAAY;AACpD,WAAOvB,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe4C,OAAf,EAAwB,YAAY;AAChD,aAAO3C,WAAW,CAAC,IAAD,EAAO,UAAUmB,EAAV,EAAc;AACnC,gBAAQA,EAAE,CAACE,KAAX;AACI,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAc,KAAKiE,iBAAL,CAAuB/E,KAAK,CAACmG,UAAN,CAAiB,GAAjB,EAAsB,EAAtB,CAAvB,CAAd,CAAP;;AACR,eAAK,CAAL;AAAQ,mBAAO,CAAC;AAAE;AAAH,cAAevF,EAAE,CAACK,IAAH,EAAf,CAAP;AAFZ;AAIH,OALiB,CAAlB;AAMH,KAPe,CAAhB;AAQH,GATD;;AAUA,SAAOZ,eAAP;AACH,CAvToC,EAArC;;AAwTA,eAAeA,eAAf","sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { babyCakeContractAbi, pancakeRouterContractAbi, pancackePairContractAbi, CONTRACT_ADDRESS, } from \"./constants\";\nimport { ethers, BigNumber, utils } from \"ethers\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nexport var WalletType;\n(function (WalletType) {\n    WalletType[WalletType[\"Metamask\"] = 0] = \"Metamask\";\n    WalletType[WalletType[\"WalletConnect\"] = 1] = \"WalletConnect\";\n})(WalletType || (WalletType = {}));\nvar WBNB_ADDRESS = \"0x0BE9e53fd7EDaC9F859882AfdDa116645287C629\"; // testnet: \"0xae13d989dac2f0debff460ac112a837c89baa7cd\"\n// mainnet: \"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c\"\nvar BUSD_ADDRESS = \"0x6a5f6a8121592becd6747a38d67451b310f7f156\"; // testnet: \"0x78867BbEeF44f2326bF8DDd1941a4439382EF2A7\" \n// mainnet: \"0x55d398326f99059ff775485246999027b3197955\"\nvar MetamaskService = /** @class */ (function () {\n    function MetamaskService(walletProvider) {\n        this.walletProvider = walletProvider;\n        this.web3Provider = new ethers.providers.Web3Provider(walletProvider);\n    }\n    MetamaskService.prototype.initialize = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this;\n                        return [4 /*yield*/, this.getOneMkatPrice()];\n                    case 1:\n                        _a.oneMkatBnb = _b.sent();\n                        this.contract = this.getBabyCakeContractInstance(CONTRACT_ADDRESS);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getWeb3Provider = function () {\n        return this.web3Provider;\n    };\n    MetamaskService.createWalletProviderFromType = function (type) {\n        return __awaiter(this, void 0, void 0, function () {\n            var walletConnectProvider;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(type == WalletType.WalletConnect)) return [3 /*break*/, 2];\n                        walletConnectProvider = new WalletConnectProvider({\n                            rpc: { 56: \"https://bsc-dataseed.binance.org/\" },\n                            chainId: 56,\n                            qrcode: true,\n                        });\n                        return [4 /*yield*/, walletConnectProvider.enable()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, walletConnectProvider];\n                    case 2:\n                        if (type == WalletType.Metamask) {\n                            return [2 /*return*/, window.ethereum];\n                        }\n                        else\n                            throw new Error(\"Invalid type\");\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getCurrentWalletProvider = function () { return this.walletProvider; };\n    MetamaskService.prototype.switchChainAsync = function (newChainId) {\n        return __awaiter(this, void 0, Promise, function () {\n            var switchError_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.walletProvider.request({\n                                method: 'wallet_switchEthereumChain',\n                                params: [{ chainId: '0x' + (+newChainId).toString(16) }],\n                            })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, true];\n                    case 2:\n                        switchError_1 = _a.sent();\n                        console.error(switchError_1);\n                        return [2 /*return*/, false];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getTokenContractInstance = function () {\n        return this.contract;\n    };\n    MetamaskService.prototype.getBabyCakeContractInstance = function (contractAddress) {\n        var provider = this.web3Provider;\n        var signer = provider.getSigner();\n        return new ethers.Contract(contractAddress, babyCakeContractAbi, signer);\n    };\n    MetamaskService.prototype.getCakeTokenContractInstance = function (babyTokenAddress) {\n        return __awaiter(this, void 0, void 0, function () {\n            var provider, signer, babyCakeContract, _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        provider = this.web3Provider;\n                        signer = provider.getSigner();\n                        babyCakeContract = this.getBabyCakeContractInstance(babyTokenAddress);\n                        _b = (_a = ethers.Contract).bind;\n                        return [4 /*yield*/, babyCakeContract.CAKE()];\n                    case 1: return [2 /*return*/, new (_b.apply(_a, [void 0, _c.sent(), babyCakeContractAbi, signer]))()];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getPancakeRouterContractInstance = function (pancakeContractAddress) {\n        return __awaiter(this, void 0, void 0, function () {\n            var provider, signer;\n            return __generator(this, function (_a) {\n                provider = this.web3Provider;\n                signer = provider.getSigner();\n                return [2 /*return*/, new ethers.Contract(pancakeContractAddress, pancakeRouterContractAbi, signer)];\n            });\n        });\n    };\n    MetamaskService.prototype.getPancakePairContractInstance = function (pancakePairContractAddress) {\n        return __awaiter(this, void 0, void 0, function () {\n            var provider, signer;\n            return __generator(this, function (_a) {\n                provider = this.web3Provider;\n                signer = provider.getSigner();\n                return [2 /*return*/, new ethers.Contract(pancakePairContractAddress, pancackePairContractAbi, signer)];\n            });\n        });\n    };\n    MetamaskService.prototype.getPoolReservesBNB = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var provider, res;\n            return __generator(this, function (_a) {\n                provider = this.web3Provider;\n                res = provider.getBalance(CONTRACT_ADDRESS);\n                // console.log(\"POOL RESERVES\" + res);\n                return [2 /*return*/, res];\n            });\n        });\n    };\n    MetamaskService.prototype.getPricesPath = function (amount, path) {\n        return __awaiter(this, void 0, void 0, function () {\n            var contract, _a, res, ex_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 6, , 7]);\n                        if (!amount.isZero()) return [3 /*break*/, 1];\n                        return [2 /*return*/, new Array(path.length).fill(BigNumber.from([0]))];\n                    case 1:\n                        _a = this.getPancakeRouterContractInstance;\n                        return [4 /*yield*/, this.getPancakeRouterAddress()];\n                    case 2: return [4 /*yield*/, _a.apply(this, [_b.sent()])];\n                    case 3:\n                        contract = _b.sent();\n                        return [4 /*yield*/, contract.getAmountsOut(amount, path)];\n                    case 4:\n                        res = _b.sent();\n                        return [2 /*return*/, res];\n                    case 5: return [3 /*break*/, 7];\n                    case 6:\n                        ex_1 = _b.sent();\n                        console.error(\"getPricesPath() exception: \" + ex_1);\n                        return [2 /*return*/, new Array(path.length).fill(BigNumber.from([0]))];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getMkatBnbUsdPrices = function (amount) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.getPricesPath(amount, [\n                        CONTRACT_ADDRESS,\n                        WBNB_ADDRESS,\n                        BUSD_ADDRESS,\n                    ])];\n            });\n        });\n    };\n    MetamaskService.prototype.getMkatValueInBUSD = function (amount) {\n        return __awaiter(this, void 0, void 0, function () {\n            var res;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (amount.isZero()) {\n                            return [2 /*return*/, 0];\n                        }\n                        return [4 /*yield*/, this.getMkatBnbUsdPrices(amount)];\n                    case 1:\n                        res = (_a.sent())[2];\n                        return [2 /*return*/, res];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getMkatPriceInBnb = function (amount) {\n        return __awaiter(this, void 0, Promise, function () {\n            var pathResult;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (amount.isZero())\n                            return [2 /*return*/, new Promise(function (resolve) { return resolve(BigNumber.from(\"0\")); })];\n                        return [4 /*yield*/, this.getMkatBnbUsdPrices(amount)];\n                    case 1:\n                        pathResult = _a.sent();\n                        return [2 /*return*/, pathResult[1]];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.totalLiquidityPoolInBUSD = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var poolReserves, mkat, bnb, bnbUSD, mkatUSD;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getPancakePairPoolReserves()];\n                    case 1:\n                        poolReserves = _a.sent();\n                        mkat = poolReserves[1];\n                        bnb = poolReserves[0];\n                        return [4 /*yield*/, this.getPricesPath(bnb, [WBNB_ADDRESS, BUSD_ADDRESS])];\n                    case 2:\n                        bnbUSD = (_a.sent())[1];\n                        return [4 /*yield*/, this.getMkatValueInBUSD(mkat)];\n                    case 3:\n                        mkatUSD = _a.sent();\n                        // console.log(\"bnbUSD:\", bnbUSD);\n                        // console.log(\"mkatUSD:\", mkatUSD);\n                        return [2 /*return*/, bnbUSD.add(mkatUSD)];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getPancakePairPoolReserves = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var contract, _a, res;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this.getPancakePairContractInstance;\n                        return [4 /*yield*/, this.getPancakePairAddress()];\n                    case 1: return [4 /*yield*/, _a.apply(this, [_b.sent()])];\n                    case 2:\n                        contract = _b.sent();\n                        return [4 /*yield*/, contract.getReserves()];\n                    case 3:\n                        res = _b.sent();\n                        return [2 /*return*/, res];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getPancakePairAddress = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.contract) {\n                            this.contract = this.getTokenContractInstance();\n                        }\n                        return [4 /*yield*/, this.contract.uniswapV2Pair()];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getPancakeRouterAddress = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.contract) {\n                            this.contract = this.getBabyCakeContractInstance(CONTRACT_ADDRESS);\n                        }\n                        return [4 /*yield*/, this.contract.uniswapV2Router()];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getStaticRewardInfoOf = function (addr) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.contract.getAccountDividendsInfo(addr)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getBalance = function (addr) {\n        return __awaiter(this, void 0, Promise, function () {\n            var tokenBalance;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.contract) {\n                            this.contract = this.getTokenContractInstance();\n                        }\n                        return [4 /*yield*/, this.contract.balanceOf(addr)];\n                    case 1:\n                        tokenBalance = _a.sent();\n                        return [2 /*return*/, tokenBalance];\n                }\n            });\n        });\n    };\n    MetamaskService.prototype.getOneMkatPrice = function () {\n        return __awaiter(this, void 0, Promise, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getMkatPriceInBnb(utils.parseUnits(\"1\", 18))];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    return MetamaskService;\n}());\nexport default MetamaskService;\n"]}]}